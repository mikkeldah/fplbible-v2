{"ast":null,"code":"'use strict';\n\nvar Lib = require('../../lib');\n\nvar Axes = require('../../plots/cartesian/axes');\n\nvar alignPeriod = require('../../plots/cartesian/align_period');\n\nvar calcCommon = require('../ohlc/calc').calcCommon;\n\nmodule.exports = function (gd, trace) {\n  var fullLayout = gd._fullLayout;\n  var xa = Axes.getFromId(gd, trace.xaxis);\n  var ya = Axes.getFromId(gd, trace.yaxis);\n  var origX = xa.makeCalcdata(trace, 'x');\n  var x = alignPeriod(trace, xa, 'x', origX);\n  var cd = calcCommon(gd, trace, origX, x, ya, ptFunc);\n\n  if (cd.length) {\n    Lib.extendFlat(cd[0].t, {\n      num: fullLayout._numBoxes,\n      dPos: Lib.distinctVals(x).minDiff / 2,\n      posLetter: 'x',\n      valLetter: 'y'\n    });\n    fullLayout._numBoxes++;\n    return cd;\n  } else {\n    return [{\n      t: {\n        empty: true\n      }\n    }];\n  }\n};\n\nfunction ptFunc(o, h, l, c) {\n  return {\n    min: l,\n    q1: Math.min(o, c),\n    med: c,\n    q3: Math.max(o, c),\n    max: h\n  };\n}","map":{"version":3,"sources":["C:/Users/mikke/VSC/fantasy-django-react/fantasy-django/fantasy-react-app/node_modules/plotly.js/src/traces/candlestick/calc.js"],"names":["Lib","require","Axes","alignPeriod","calcCommon","module","exports","gd","trace","fullLayout","_fullLayout","xa","getFromId","xaxis","ya","yaxis","origX","makeCalcdata","x","cd","ptFunc","length","extendFlat","t","num","_numBoxes","dPos","distinctVals","minDiff","posLetter","valLetter","empty","o","h","l","c","min","q1","Math","med","q3","max"],"mappings":"AAAA;;AAEA,IAAIA,GAAG,GAAGC,OAAO,CAAC,WAAD,CAAjB;;AACA,IAAIC,IAAI,GAAGD,OAAO,CAAC,4BAAD,CAAlB;;AACA,IAAIE,WAAW,GAAGF,OAAO,CAAC,oCAAD,CAAzB;;AAEA,IAAIG,UAAU,GAAGH,OAAO,CAAC,cAAD,CAAP,CAAwBG,UAAzC;;AAEAC,MAAM,CAACC,OAAP,GAAiB,UAASC,EAAT,EAAaC,KAAb,EAAoB;AACjC,MAAIC,UAAU,GAAGF,EAAE,CAACG,WAApB;AACA,MAAIC,EAAE,GAAGT,IAAI,CAACU,SAAL,CAAeL,EAAf,EAAmBC,KAAK,CAACK,KAAzB,CAAT;AACA,MAAIC,EAAE,GAAGZ,IAAI,CAACU,SAAL,CAAeL,EAAf,EAAmBC,KAAK,CAACO,KAAzB,CAAT;AAEA,MAAIC,KAAK,GAAGL,EAAE,CAACM,YAAH,CAAgBT,KAAhB,EAAuB,GAAvB,CAAZ;AACA,MAAIU,CAAC,GAAGf,WAAW,CAACK,KAAD,EAAQG,EAAR,EAAY,GAAZ,EAAiBK,KAAjB,CAAnB;AAEA,MAAIG,EAAE,GAAGf,UAAU,CAACG,EAAD,EAAKC,KAAL,EAAYQ,KAAZ,EAAmBE,CAAnB,EAAsBJ,EAAtB,EAA0BM,MAA1B,CAAnB;;AAEA,MAAGD,EAAE,CAACE,MAAN,EAAc;AACVrB,IAAAA,GAAG,CAACsB,UAAJ,CAAeH,EAAE,CAAC,CAAD,CAAF,CAAMI,CAArB,EAAwB;AACpBC,MAAAA,GAAG,EAAEf,UAAU,CAACgB,SADI;AAEpBC,MAAAA,IAAI,EAAE1B,GAAG,CAAC2B,YAAJ,CAAiBT,CAAjB,EAAoBU,OAApB,GAA8B,CAFhB;AAGpBC,MAAAA,SAAS,EAAE,GAHS;AAIpBC,MAAAA,SAAS,EAAE;AAJS,KAAxB;AAOArB,IAAAA,UAAU,CAACgB,SAAX;AACA,WAAON,EAAP;AACH,GAVD,MAUO;AACH,WAAO,CAAC;AAACI,MAAAA,CAAC,EAAE;AAACQ,QAAAA,KAAK,EAAE;AAAR;AAAJ,KAAD,CAAP;AACH;AACJ,CAvBD;;AAyBA,SAASX,MAAT,CAAgBY,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyBC,CAAzB,EAA4B;AACxB,SAAO;AACHC,IAAAA,GAAG,EAAEF,CADF;AAEHG,IAAAA,EAAE,EAAEC,IAAI,CAACF,GAAL,CAASJ,CAAT,EAAYG,CAAZ,CAFD;AAGHI,IAAAA,GAAG,EAAEJ,CAHF;AAIHK,IAAAA,EAAE,EAAEF,IAAI,CAACG,GAAL,CAAST,CAAT,EAAYG,CAAZ,CAJD;AAKHM,IAAAA,GAAG,EAAER;AALF,GAAP;AAOH","sourcesContent":["'use strict';\r\n\r\nvar Lib = require('../../lib');\r\nvar Axes = require('../../plots/cartesian/axes');\r\nvar alignPeriod = require('../../plots/cartesian/align_period');\r\n\r\nvar calcCommon = require('../ohlc/calc').calcCommon;\r\n\r\nmodule.exports = function(gd, trace) {\r\n    var fullLayout = gd._fullLayout;\r\n    var xa = Axes.getFromId(gd, trace.xaxis);\r\n    var ya = Axes.getFromId(gd, trace.yaxis);\r\n\r\n    var origX = xa.makeCalcdata(trace, 'x');\r\n    var x = alignPeriod(trace, xa, 'x', origX);\r\n\r\n    var cd = calcCommon(gd, trace, origX, x, ya, ptFunc);\r\n\r\n    if(cd.length) {\r\n        Lib.extendFlat(cd[0].t, {\r\n            num: fullLayout._numBoxes,\r\n            dPos: Lib.distinctVals(x).minDiff / 2,\r\n            posLetter: 'x',\r\n            valLetter: 'y',\r\n        });\r\n\r\n        fullLayout._numBoxes++;\r\n        return cd;\r\n    } else {\r\n        return [{t: {empty: true}}];\r\n    }\r\n};\r\n\r\nfunction ptFunc(o, h, l, c) {\r\n    return {\r\n        min: l,\r\n        q1: Math.min(o, c),\r\n        med: c,\r\n        q3: Math.max(o, c),\r\n        max: h,\r\n    };\r\n}\r\n"]},"metadata":{},"sourceType":"script"}